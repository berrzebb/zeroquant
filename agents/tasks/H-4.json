{
  "id": "H-4",
  "title": "DB증권 주문 실행 (OrderExecutionProvider)",
  "group": "H",
  "description": "DB증권 국내주식 주문/정정/취소 구현. 주문: CSPAT00600 POST /api/v1/trading/kr-stock/order, 정정: POST /api/v1/trading/kr-stock/order-modify, 취소: POST /api/v1/trading/kr-stock/order-cancel. KIS Provider 패턴 참조. 일부 TR코드 추정값이므로 실제 API 응답 검증 필요.",
  "relevant_crates": ["trader-exchange"],
  "has_db_changes": false,
  "depends_on": [],
  "reference_files": [
    "crates/trader-exchange/src/connector/db_investment/client.rs",
    "crates/trader-exchange/src/provider/db_investment.rs",
    "crates/trader-exchange/src/provider/kis.rs",
    "crates/trader-core/src/domain/exchange_provider.rs",
    "docs/exchange/db_openapi_spec.md"
  ],
  "api_spec": {
    "place_order": {
      "method": "POST",
      "path": "/api/v1/trading/kr-stock/order",
      "tr_code": "CSPAT00600",
      "body": {"InputCondMrktDivCode": "1(코스피)|2(코스닥)", "InputIscd": "종목코드", "InputQty": "int", "InputPrc": "decimal", "InputDvsnCode": "1(매수)|2(매도)", "InputOrdPtnCode": "00(지정가)|01(시장가)"},
      "response": {"OrdNo": "주문번호", "OrdSttCd": "주문상태코드"},
      "auth": "Bearer OAuth2 Token"
    },
    "modify_order": {
      "method": "POST",
      "path": "/api/v1/trading/kr-stock/order-modify",
      "body": {"InputOrdNo": "원주문번호", "InputOrdQty": "int", "InputOrdPrc": "decimal"}
    },
    "cancel_order": {
      "method": "POST",
      "path": "/api/v1/trading/kr-stock/order-cancel",
      "body": {"InputOrdNo": "취소할 주문번호"}
    }
  },
  "note": "일부 TR코드는 (추정)입니다. DB증권 API 포털에서 실제 코드 확인 필요.",
  "checklist": [
    "DbInvestmentClient::place_order() - CSPAT00600 구현",
    "DbInvestmentClient::cancel_order() - 주문취소 구현",
    "DbInvestmentClient::modify_order() - 주문정정 구현",
    "OrderExecutionProvider for DbInvestmentExchangeProvider impl",
    "캐시 무효화 (invalidate_cache) 호출",
    "단위 테스트 작성",
    "cargo check -p trader-exchange 성공",
    "cargo test -p trader-exchange 통과",
    "cargo clippy -p trader-exchange 경고 없음"
  ]
}
